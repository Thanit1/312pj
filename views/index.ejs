<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>index</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h2 class="mb-4">ยินดีต้อนรับ: <%= user.firstname %></h2>
        <h1 class="mb-3">การขอเข้าใช้ห้อง 312</h1>
        <h2 class="mb-3">เลือกเวลาที่ต้องการเข้าใช้ห้อง</h2>
        <p class="mb-4">รหัสจะใช้ได้เพียง 30 นาที</p>
        <% if (activeCode && activeExpiration) { %>
            <div class="alert alert-success" role="alert">
                <h4 class="alert-heading">รหัสการเข้าใช้ห้องของคุณคือ:</h4>
                <p class="mb-0"><strong><%= activeCode %></strong></p>
                <p>รหัสนี้จะหมดอายุเมื่อ: <%= activeExpiration %></p>
            </div>
        <% } else { %>
            <p class="alert alert-warning">คุณยังไม่มีรหัสที่ใช้งานได้ กรุณาขอรหัสใหม่</p>
        <% } %>
        <form action="/room" method="post" class="mb-4">
            <h4 class="mb-3">ขอรหัสการเข้าใช้ห้อง</h4>
            <button type="submit" class="btn btn-primary">ยืนยัน</button>
        </form>
        <% if (typeof message !== 'undefined') { %>
            <div class="alert alert-info" role="alert">
                <%= message %>
            </div>
        <% } %>
        <a href="/logout" class="btn btn-secondary">ออกจากระบบ</a>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>